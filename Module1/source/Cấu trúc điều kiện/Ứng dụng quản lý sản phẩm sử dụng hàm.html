<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>[*Bài tập] Ứng dụng quản lý sản phẩm sử dụng hàm</title>
    <style>
        input {
            width: 500px;
            height: 30px;
        }
        button {
            width: 50px;
            height: 30px;
        }
    </style>
</head>
<body>
<h1>Add New Product</h1>
<input type="text" id="addNew" value="" placeholder="New Product"/>
<button type="button" onclick="addproduct()">Add</button>
<div id="title">
    <h1>Display All Product</h1>
    <h3 id="product">Product Name</h3>

</div>

<script>
    // let i=0;
    // function addproduct(){
    //     let title = document.getElementById('addNew').value;
    //     if (title == ''){
    //         alert("Bạn chưa nhập tên");
    //     }
    //     else {
    //         let html = '<div id="'+'del'+i+'"><input type="text" id=' +
    //             '"'+'num'+i+'" value="'+title+'" readonly>' +
    //             '<button type="button" onclick="edit('+i+')" >Edit</button>' +
    //             '<button type="button" onclick="deleted('+i+')">Delete</button>' +
    //             '</div>';
    //         document.getElementById('product').insertAdjacentHTML('afterend', html);
    //         document.getElementById('addNew').value = null;
    //         i++;
    //     }
    // }
    // function edit(numEdit) {
    //     let edits= prompt("Nhập tên sửa đổi: ");
    //     document.getElementById("num"+numEdit).value = edits;
    //
    // }
    // function deleted(numDelete) {
    //     document.getElementById("del"+numDelete).remove();
    // }
    //array.join() không tác dụng trực tiếp lên mảng -> cần tạo biến ms để hiển thị let arr = array.join
    // array.concat(); gán bộ nhớ



    let array = [];
    function addproduct() {
        let title = document.getElementById('addNew').value;
            if (title == ''){
                alert("Bạn chưa nhập tên");
            } else {
                array.push(title);
                displays();
                document.getElementById('addNew').value = null;
            }
            console.log(title + "  " + array);
    }
    function displays() {
        let text = "Product Name";
        for (let i=0; i<array.length; i++) {
            let html = '<div id="'+'del'+i+'"><input type="text" id=' +
                        '"'+'num'+i+'" value="'+array[i]+'" readonly>' +
                        '<button type="button" onclick="edit('+i+')" >Edit</button>' +
                        '<button type="button" onclick="deleted('+i+')">Delete</button>' +
                        '</div>';
             text += html;
        }
        document.getElementById('product').innerHTML = text;

    }
    function edit(numEdit) {
        let edits= prompt("Nhập tên sửa đổi: ");
        document.getElementById("num"+numEdit).value = edits;

    }
    function deleted(numDelete) {
        document.getElementById("del"+numDelete).remove();
        array[numDelete] = array[array.length-1];
        array.pop();
        displays();
    }
</script>
</body>
</html>